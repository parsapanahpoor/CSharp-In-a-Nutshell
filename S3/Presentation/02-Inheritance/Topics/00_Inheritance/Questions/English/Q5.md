<div dir="ltr" style="text-align: left;">

## â“ Q5:

## How does the Memory Layout work behind the scenes?

### âœ… Answer:

<div dir="ltr" style="text-align: left;">

```csharp
class Base {
public int X;
}

class Derived : Base {
public int Y;
}

var obj = new Derived();

**Memory in Heap:**


[Derived Object]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Object Header         â”‚ (8 bytes)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Type Handle (VMT)     â”‚ (8 bytes) â†’ Virtual Method Table
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Base.X                â”‚ (4 bytes)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Derived.Y             â”‚ (4 bytes)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

<div dir="ltr" style="text-align: left;">


### ğŸ¯ Note:

- All Base fields are placed first
- Then Derived fields
- A shared Type Handle for accessing Virtual Methods
