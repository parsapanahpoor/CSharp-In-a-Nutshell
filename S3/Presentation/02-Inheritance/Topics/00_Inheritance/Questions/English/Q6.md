<div dir="ltr" style="text-align: left;">

## â“ Q6:

## What is Virtual Method Table (VMT)? How does it work?

### âœ… Answer:

<div dir="ltr" style="text-align: left;">


```csharp
class Animal {
public virtual void Speak() => Console.WriteLine("Animal sound");
}

class Dog : Animal {
public override void Speak() => Console.WriteLine("Woof!");
}

Animal a = new Dog();
a.Speak(); // How does it know to call Dog.Speak()?

```

<div dir="ltr" style="text-align: left;">


**Behind the scenes:**

<div dir="ltr" style="text-align: left;">

```
[Dog Object in Memory]
â””â”€ Type Handle â†’ [Dog's VMT]
â”œâ”€ ToString()     â†’ Object.ToString
â”œâ”€ GetHashCode()  â†’ Object.GetHashCode
â”œâ”€ Speak()        â†’ Dog.Speak âœ… (Overridden)
â””â”€ â€¦
```

<div dir="ltr" style="text-align: left;">

### ğŸ¯ Mechanism:

1. Runtime realizes that a is actually a Dog
2. Goes from Type Handle to VMT
3. Finds Speak() in VMT
4. Executes Dog.Speak() âœ…
