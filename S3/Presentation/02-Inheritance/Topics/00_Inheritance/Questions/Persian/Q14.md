<div dir="rtl" style="text-align: right;">


## ❓ Q14:

## چرا Constructor نمی‌تونه virtual باشه؟

## 💡 سوال:

<div dir="ltr" style="text-align: left;">


```csharp
class Base {
public virtual Base() { } // ❌ Error: Constructors cannot be virtual
}

```

<div dir="rtl" style="text-align: right;">

## ✅ تحلیل عمیق:

<div dir="ltr" style="text-align: left;">


```csharp
class Base {
public Base() {
Initialize();  // ⚠️ خطرناک!
}

public virtual void Initialize() {
Console.WriteLine("Base Init");
}
}

class Derived : Base {
private int _importantField;

public Derived() {
_importantField = 42;  // این بعد از Base() اجرا میشه!
}

public override void Initialize() {
Console.WriteLine($"Derived Init: {_importantField}"); // 0 😱 (هنوز Initialize نشده!)
}
}

var obj = new Derived();
// خروجی: Derived Init: 0
// چرا؟ ترتیب: Base() → Initialize() (Derived version) → Derived() → _importantField = 42

```

<div dir="rtl" style="text-align: right;">


## 🎯 دلیل:

- Constructor چیزی برای Override کردن نیست (هر کلاس Constructor خودش رو داره)
- وقتی Base Constructor اجرا میشه، Derived هنوز Initialize نشده
- صدا زدن Virtual Method توی Constructor = Undefined Behavior

## ✅ راه حل:

<div dir="ltr" style="text-align: left;">

```csharp
class Base {
protected Base() { }

// Factory Method Pattern
public static Base Create() {
var obj = new Derived();
obj.Initialize();  ✅ حالا همه چی Initialize شده
return obj;
}

public virtual void Initialize() { }
}

```