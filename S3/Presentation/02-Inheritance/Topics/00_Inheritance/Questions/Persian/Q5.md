<div dir="rtl" style="text-align: right;">

## ❓ Q5:

## پشت صحنه Memory Layout چطوریه؟

### ✅ جواب:

<div dir="ltr" style="text-align: left;">

```csharp
class Base {
public int X;
}

class Derived : Base {
public int Y;
}

var obj = new Derived();

**Memory در Heap:**


[Derived Object]
┌───────────────────────┐
│ Object Header         │ (8 bytes)
├───────────────────────┤
│ Type Handle (VMT)     │ (8 bytes) → Virtual Method Table
├───────────────────────┤
│ Base.X                │ (4 bytes)
├───────────────────────┤
│ Derived.Y             │ (4 bytes)
└───────────────────────┘

```

<div dir="rtl" style="text-align: right;">


### 🎯 نکته:

- همه فیلدهای Base اول چیده می‌شوند
- بعد فیلدهای Derived
- یک Type Handle مشترک برای دسترسی به Virtual Methods
