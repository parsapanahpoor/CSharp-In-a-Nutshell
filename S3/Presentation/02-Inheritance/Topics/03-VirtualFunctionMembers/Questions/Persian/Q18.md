<div dir="rtl" style="text-align: right;">

## â“ Q18:

## Virtual Methods Ø¨Ø§ Generic Constraints Ùˆ Type Parameters Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†ØŸ

### âœ… Ø¬ÙˆØ§Ø¨ Ø¹Ù…ÛŒÙ‚:

Virtual Methods Ø¯Ø± Generic Classes Ù…ÛŒâ€ŒØªÙˆÙ†Ù† Ø®ÛŒÙ„ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø¨Ø´Ù†ØŒ Ù…Ø®ØµÙˆØµØ§Ù‹ ÙˆÙ‚ØªÛŒ Ø¨Ø§ Type Constraints ØªØ±Ú©ÛŒØ¨ Ù…ÛŒâ€ŒØ´Ù†.

### ğŸ” Ù…Ø«Ø§Ù„ Ù¾ÛŒÚ†ÛŒØ¯Ù‡:

<div dir="ltr" style="text-align: left;">

```csharp
class Animal {
    public virtual void Process<T>(T item) where T : Animal {
        Console.WriteLine($"Processing {typeof(T).Name}");
    }
}

class Dog : Animal {
    // Ù†Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… constraint Ø±Ùˆ ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒÙ…:
    // public override void Process<T>(T item) where T : Dog { }  // âŒ Error
    
    // Ø¨Ø§ÛŒØ¯ constraint Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§Ø´Ù‡:
    public override void Process<T>(T item) where T : Animal {
        base.Process(item);
        Console.WriteLine("Dog-specific processing");
    }
}
```

<div dir="rtl" style="text-align: right;">

### âš ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Generic Virtual Methods:

<div dir="ltr" style="text-align: left;">

```csharp
// âŒ Ù†Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… Ø§ÛŒÙ† Ú©Ø§Ø±Ù‡Ø§ Ø±Ùˆ Ø¨Ú©Ù†ÛŒÙ…:

// 1. ØªØºÛŒÛŒØ± constraint:
class Base {
    public virtual void Method<T>() where T : Animal { }
}
class Derived : Base {
    // public override void Method<T>() where T : Dog { }  // âŒ Error
}

// 2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† constraint:
class Base {
    public virtual void Method<T>() { }
}
class Derived : Base {
    // public override void Method<T>() where T : Animal { }  // âŒ Error
}
```

<div dir="rtl" style="text-align: right;">

### âœ… Covariant Return Types (C# 9+):

<div dir="ltr" style="text-align: left;">

```csharp
class Animal { }
class Dog : Animal { }

class Base {
    public virtual Animal GetAnimal() => new Animal();
}

class Derived : Base {
    public override Dog GetAnimal() => new Dog();  // âœ… C# 9+
    // Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… Derived type Ø¨Ø±Ú¯Ø±Ø¯ÙˆÙ†ÛŒÙ…
}
```

<div dir="rtl" style="text-align: right;">

### ğŸ”¬ Virtual Method Resolution Ø¨Ø§ Generics:

<div dir="ltr" style="text-align: left;">

```csharp
class Container<T> where T : Animal {
    public virtual void Process(T item) {
        item.Eat();  // Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù‡ T : Animal Ø§Ø³Øª
    }
}

class DogContainer : Container<Dog> {
    public override void Process(Dog item) {
        base.Process(item);
        item.Bark();  // Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù‡ T = Dog Ø§Ø³Øª
    }
}

Container<Animal> container = new DogContainer();
container.Process(new Dog());  // âœ… Virtual call â†’ DogContainer.Process()
```

<div dir="rtl" style="text-align: right;">

### ğŸ¯ Ù†Ú©ØªÙ‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡:

Generic Virtual Methods **Type Erasure** Ù†Ø¯Ø§Ø±Ù† (Ø¨Ø±Ø®Ù„Ø§Ù Java). Type Information Ø¯Ø± runtime Ø­ÙØ¸ Ù…ÛŒâ€ŒØ´Ù‡ Ùˆ Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø¨Ø±Ø§ÛŒ method resolution Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø´Ù‡.

### âš ï¸ Performance:

Generic Virtual Methods Ú©Ù…ÛŒ Ú©Ù†Ø¯ØªØ± Ø§Ø² Non-generic Virtual Methods Ù‡Ø³ØªÙ†Ø¯ Ú†ÙˆÙ† Ø¨Ø§ÛŒØ¯ **Type Information** Ø±Ùˆ Ù‡Ù… resolve Ú©Ù†Ù†.

