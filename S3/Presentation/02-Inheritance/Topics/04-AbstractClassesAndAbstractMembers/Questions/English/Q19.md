<div dir="ltr" style="text-align: left;">

## ‚ùì Q19:

## How do Abstract Class work with Reflection and Runtime Type Information?

### ‚úÖ Deep Answer:

Reflection can inspect Abstract Classes and Abstract Methods at runtime.

### üîç Reflection for Abstract Classes:

<div dir="ltr" style="text-align: left;">

```csharp
abstract class Animal {
    public abstract void MakeSound();
    public void Sleep() { }
}

class Dog : Animal {
    public override void MakeSound() { }
}

// Reflection:
Type animalType = typeof(Animal);
Type dogType = typeof(Dog);

// Check Abstract Class:
bool isAbstract = animalType.IsAbstract;  // True ‚úÖ
bool canInstantiate = !animalType.IsAbstract;  // False

// Check Abstract Methods:
MethodInfo[] methods = animalType.GetMethods();
foreach (var method in methods) {
    if (method.IsAbstract) {
        Console.WriteLine($"Abstract: {method.Name}");  // MakeSound ‚úÖ
    }
}
```

<div dir="ltr" style="text-align: left;">

### üî¨ Abstract Method Invocation:

<div dir="ltr" style="text-align: left;">

```csharp
Animal animal = new Dog();

// With Reflection we can call abstract method:
MethodInfo method = typeof(Animal).GetMethod("MakeSound");
method.Invoke(animal, null);  // ‚úÖ Virtual dispatch works!

// Or directly:
animal.MakeSound();  // ‚úÖ Virtual call ‚Üí Dog.MakeSound()
```

<div dir="ltr" style="text-align: left;">

### üîç Type Information:

<div dir="ltr" style="text-align: left;">

```csharp
// Check if class has implemented all abstract methods:
Type type = typeof(Dog);
Type baseType = type.BaseType;  // Animal

MethodInfo[] abstractMethods = baseType.GetMethods()
    .Where(m => m.IsAbstract)
    .ToArray();

MethodInfo[] implementedMethods = type.GetMethods()
    .Where(m => m.GetBaseDefinition() != m)  // Overridden
    .ToArray();

bool allImplemented = abstractMethods.All(am => 
    implementedMethods.Any(im => im.GetBaseDefinition() == am)
);
```

<div dir="ltr" style="text-align: left;">

### üéØ Advanced Note:

Reflection can read **Abstract Class Metadata** and check if derived class has implemented all abstract methods.

### ‚ö†Ô∏è Performance:

Reflection for Abstract Classes is **very slow** (~1000-10000 CPU cycles). Only use for **Inspection**, not for **Invocation**!

### üí° Usage:

- **Plugin Systems**: Check if class has implemented all abstract methods
- **Code Analysis**: Inspect Abstract Class hierarchies
- **Testing**: Check Abstract Class contracts
