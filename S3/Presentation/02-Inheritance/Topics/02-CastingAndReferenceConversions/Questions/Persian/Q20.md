<div dir="rtl" style="text-align: right;">

## â“ Q20:

## Dynamic Type Ùˆ Runtime Casting Ø¨Ø§ Reflection Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ

### âœ… Ø¬ÙˆØ§Ø¨ Ø¹Ù…ÛŒÙ‚:

`dynamic` type Ø¯Ø± C# Ø§Ø² **DLR (Dynamic Language Runtime)** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ùˆ casting Ø±Ùˆ Ø¯Ø± runtime Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡.

### ğŸ” Dynamic vs Static Casting:

<div dir="ltr" style="text-align: left;">

```csharp
class Animal { }
class Dog : Animal { }

Animal animal = new Dog();

// Static Casting (Compile-time):
Dog dog1 = (Dog)animal;  // âœ… Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù‡

// Dynamic Casting (Runtime):
dynamic dyn = animal;
Dog dog2 = (Dog)dyn;  // âœ… Runtime ØªØµÙ…ÛŒÙ… Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù‡
```

<div dir="rtl" style="text-align: right;">

### ğŸ”¬ Ù…Ú©Ø§Ù†ÛŒØ²Ù… Dynamic:

<div dir="ltr" style="text-align: left;">

```csharp
dynamic obj = new Dog();

// ÙˆÙ‚ØªÛŒ Ø§ÛŒÙ† Ú©Ø¯ Ø±Ùˆ Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³ÛŒ:
obj.Bark();  // Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± Ù†Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù‡ Bark ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ ÛŒØ§ Ù†Ù‡!

// Runtime Ø§ÛŒÙ† Ú©Ø§Ø±Ù‡Ø§ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡:
// 1. Type Information Ø±Ùˆ Ø§Ø² object Ù…ÛŒâ€ŒØ®ÙˆÙ†Ù‡
// 2. Method Lookup Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡
// 3. Ø§Ú¯Ø± Ù…ØªØ¯ Ù¾ÛŒØ¯Ø§ Ø´Ø¯ â†’ ØµØ¯Ø§ Ù…ÛŒâ€ŒØ²Ù†Ù‡
// 4. Ø§Ú¯Ø± Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯ â†’ RuntimeBinderException
```

<div dir="rtl" style="text-align: right;">

### âš ï¸ Performance Overhead:

<div dir="ltr" style="text-align: left;">

```csharp
// Static (Compile-time):
Dog dog = (Dog)animal;  // ~1-2 CPU cycles âœ…

// Dynamic (Runtime):
dynamic dyn = animal;
Dog dog2 = (Dog)dyn;  // ~100-1000 CPU cycles âš ï¸
// Ø¨Ø§ÛŒØ¯:
// 1. Type resolution
// 2. Method lookup
// 3. Binding
// 4. Invocation
```

<div dir="rtl" style="text-align: right;">

### ğŸ”¬ Reflection Ùˆ Casting:

<div dir="ltr" style="text-align: left;">

```csharp
Animal animal = new Dog();

// Ø¨Ø§ Reflection Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… Type Information Ø±Ùˆ Ø¨Ø®ÙˆÙ†ÛŒÙ…:
Type type = animal.GetType();
Type targetType = typeof(Dog);

// Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ø¢ÛŒØ§ Cast Ù…Ù…Ú©Ù†Ù‡:
bool canCast = targetType.IsAssignableFrom(type);  // True âœ…

// ÛŒØ§ Ø¨Ø§ Convert:
object converted = Convert.ChangeType(animal, typeof(Dog));  // âœ…
Dog dog = (Dog)converted;
```

<div dir="rtl" style="text-align: right;">

### ğŸ“Š Ù…Ù‚Ø§ÛŒØ³Ù‡ Performance:

| Ø±ÙˆØ´ | CPU Cycles | Type Safety |
|-----|-----------|-------------|
| **Static Cast** | ~1-2 | âœ… Compile-time |
| **Dynamic Cast** | ~100-1000 | âš ï¸ Runtime |
| **Reflection** | ~1000-10000 | âš ï¸ Runtime |

### ğŸ¯ Ù†Ú©Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡:

1. **Dynamic** Ø§Ø² **Call Site Caching** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ (Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† call Ø³Ø±ÛŒØ¹â€ŒØªØ± Ù…ÛŒâ€ŒØ´Ù‡)
2. **Reflection** Ø®ÛŒÙ„ÛŒ Ú©Ù†Ø¯ Ø§Ø³Øª (Ø¨Ø§ÛŒØ¯ Metadata Ø±Ùˆ Ø¨Ø®ÙˆÙ†Ù‡)
3. **Static Casting** Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ØªØ±ÛŒÙ† performance Ø±Ùˆ Ø¯Ø§Ø±Ù‡

### âš ï¸ ØªÙˆØµÛŒÙ‡:

Ø§Ø² `dynamic` ÙÙ‚Ø· ÙˆÙ‚ØªÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† Ú©Ù‡ **ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ù„Ø§Ø²Ù…Ù‡**! Performance overhead Ø¯Ø§Ø±Ù‡.

