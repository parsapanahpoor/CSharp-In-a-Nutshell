<div dir="rtl" style="text-align: right;">

## â“ Q18:

## Covariance Ùˆ Contravariance Ø¯Ø± Casting Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ

### âœ… Ø¬ÙˆØ§Ø¨ Ø¹Ù…ÛŒÙ‚:

**Covariance** Ùˆ **Contravariance** Ù‚ÙˆØ§Ù†ÛŒÙ†ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ù† Ú†Ù‡ Ù†ÙˆØ¹ Ú©Ø³Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ù…Ø¬Ø§Ø²Ù†Ø¯.

### ğŸ” Covariance (Ø¨Ø§ Arrays - Legacy):

<div dir="ltr" style="text-align: left;">

```csharp
class Animal { }
class Dog : Animal { }

// Arrays Ø¯Ø± C# Covariant Ù‡Ø³ØªÙ†Ø¯ (Ø§Ù…Ø§ Ø®Ø·Ø±Ù†Ø§Ú©!):
Animal[] animals = new Dog[10];  // âœ… Covariance
// Ø§Ù…Ø§:
animals[0] = new Cat();  // âŒ ArrayTypeMismatchException Ø¯Ø± runtime!
// Ú†ÙˆÙ† animals ÙˆØ§Ù‚Ø¹Ø§Ù‹ Dog[] Ø§Ø³ØªØŒ Ù†Ù‡ Animal[]
```

<div dir="rtl" style="text-align: right;">

### âš ï¸ Ù…Ø´Ú©Ù„ Covariance Ø¯Ø± Arrays:

Ø§ÛŒÙ† ÛŒÚ© **design mistake** Ø¯Ø± C# Ø§Ø³Øª! Ø¨Ø§Ø¹Ø« runtime exception Ù…ÛŒâ€ŒØ´Ù‡.

### âœ… Covariance Ø¯Ø± Interfaces (Modern):

<div dir="ltr" style="text-align: left;">

```csharp
// IEnumerable<T> Covariant Ø§Ø³Øª (out keyword):
IEnumerable<Animal> animals = new List<Dog>();  // âœ…
// Ú†ÙˆÙ† IEnumerable<out T> Ø§Ø³Øª

// Ø§Ù…Ø§ List<T> Covariant Ù†ÛŒØ³Øª:
// List<Animal> animals = new List<Dog>();  // âŒ Error
```

<div dir="rtl" style="text-align: right;">

### ğŸ” Contravariance:

<div dir="ltr" style="text-align: left;">

```csharp
// IComparer<T> Contravariant Ø§Ø³Øª (in keyword):
IComparer<Animal> animalComparer = new DogComparer();  // âœ…
// Ú†ÙˆÙ† IComparer<in T> Ø§Ø³Øª

// ÛŒØ¹Ù†ÛŒ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… Animal comparer Ø±Ùˆ Ø¨Ù‡ Dog comparer ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†ÛŒÙ…
```

<div dir="rtl" style="text-align: right;">

### ğŸ“Š Ø®Ù„Ø§ØµÙ‡:

| Ù†ÙˆØ¹ | Keyword | Ù…Ø«Ø§Ù„ |
|-----|---------|------|
| **Covariant** | `out` | `IEnumerable<out T>` |
| **Contravariant** | `in` | `IComparer<in T>` |
| **Invariant** | - | `List<T>` |

### ğŸ¯ Ù†Ú©ØªÙ‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡:

- **Covariance**: Derived â†’ Base (Ø¨Ø±Ø§ÛŒ return types)
- **Contravariance**: Base â†’ Derived (Ø¨Ø±Ø§ÛŒ parameter types)
- **Invariant**: Ù‡ÛŒÚ† ØªØ¨Ø¯ÛŒÙ„ Ù…Ø¬Ø§Ø² Ù†ÛŒØ³Øª

### âš ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª:

Covariance/Contravariance ÙÙ‚Ø· Ø¯Ø± **Interfaces** Ùˆ **Delegates** Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ Ù†Ù‡ Ø¯Ø± Classes!

