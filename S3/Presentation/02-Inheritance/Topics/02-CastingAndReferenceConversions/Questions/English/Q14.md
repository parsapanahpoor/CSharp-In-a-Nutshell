<div dir="ltr" style="text-align: left;">

## ‚ùì Q14:

## How much is the Performance of Casting?

### ‚úÖ Answer:

Casting in C# is **very fast** because it only performs a **type check** at runtime.

<div dir="ltr" style="text-align: left;">

```csharp
Animal animal = new Dog();

// These casts are very fast:
Dog dog1 = (Dog)animal;        // ~1-2 CPU cycles
Dog? dog2 = animal as Dog;      // ~1-2 CPU cycles
bool isDog = animal is Dog;    // ~1-2 CPU cycles

// Pattern matching is also fast:
if (animal is Dog d) { }       // ~1-2 CPU cycles
```

<div dir="ltr" style="text-align: left;">

### üìä Performance Comparison:

| Operation | CPU Cycles | Explanation |
|--------|-----------|-------|
| Upcast | ~0 | Compile-time (no cost) |
| Downcast | ~1-2 | Runtime type check |
| `as` | ~1-2 | Like Downcast |
| `is` | ~1-2 | Like Downcast |

### üéØ Note:

**Upcast** has no cost because it's done at compile-time. Only Downcast has cost.

### ‚ö†Ô∏è Important:

If you're casting too much, maybe you should use **Polymorphism**!
