<div dir="rtl" style="text-align: right;">

## â“ Q20:

## Sealed Classes Ø¨Ø§ Memory Layout Ùˆ Object Header Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†ØŸ

### âœ… Ø¬ÙˆØ§Ø¨ Ø¹Ù…ÛŒÙ‚:

Sealed Classes Ø¯Ø± Memory Layout **ØªÙØ§ÙˆØªÛŒ** Ø¨Ø§ Non-Sealed Classes Ù†Ø¯Ø§Ø±Ù†ØŒ Ø§Ù…Ø§ JIT Compiler Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø¨Ù‡ØªØ± optimize Ú©Ù†Ù‡.

### ğŸ” Memory Layout:

<div dir="ltr" style="text-align: left;">

```csharp
sealed class FinalClass {
    public int Value { get; set; }
    public string Name { get; set; }
}

FinalClass obj = new FinalClass();
```

<div dir="rtl" style="text-align: right;">

### ğŸ“Š Memory Structure:

<div dir="ltr" style="text-align: left;">

```
FinalClass Object in Heap:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Object Header           â”‚ â†’ SyncBlock, HashCode
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Type Handle             â”‚ â†’ Points to FinalClass Type Info
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Value (int)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name (string reference) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<div dir="rtl" style="text-align: right;">

### ğŸ”¬ ØªÙØ§ÙˆØª Ø¨Ø§ Non-Sealed:

**Memory Layout ÛŒÚ©Ø³Ø§Ù† Ø§Ø³Øª!** Ø§Ù…Ø§:

1. **Type Handle**: Ø¨Ù‡ Sealed Type Info Ø§Ø´Ø§Ø±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù‡
2. **VMT**: Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ú©ÙˆÚ†Ú©â€ŒØªØ± Ø¨Ø§Ø´Ù‡ (Ú†ÙˆÙ† override Ù†Ù…ÛŒâ€ŒØ´Ù‡)
3. **JIT Optimization**: Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Direct Call Ø¨Ø²Ù†Ù‡

### âš™ï¸ JIT Optimization:

<div dir="ltr" style="text-align: left;">

```csharp
sealed class FinalClass {
    public virtual void Method() { }
}

FinalClass obj = new FinalClass();
obj.Method();  // JIT Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Direct Call Ø¨Ø²Ù†Ù‡!
```

<div dir="rtl" style="text-align: right;">

### ğŸ¯ Ù†Ú©ØªÙ‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡:

Sealed Classes **Memory Overhead** Ù†Ø¯Ø§Ø±Ù†ØŒ Ø§Ù…Ø§ JIT Compiler Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ **Better Optimization** Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ Ú†ÙˆÙ† Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù‡ Ú©Ù‡ Ú©Ù„Ø§Ø³ extend Ù†Ù…ÛŒâ€ŒØ´Ù‡.

### âš ï¸ Ù…Ù‡Ù…:

Memory Layout **ÛŒÚ©Ø³Ø§Ù†** Ø§Ø³ØªØŒ Ø§Ù…Ø§ **Performance** Ø¨Ù‡ØªØ±Ù‡ Ú†ÙˆÙ† JIT Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ optimize Ú©Ù†Ù‡.

